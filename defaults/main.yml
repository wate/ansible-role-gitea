---
gitea_version: latest

gitea_cfg:
  server: LFS_JWT_SECRET = "{{ inventory_hostname | hash('sha1') }}"
  ##  LFS authentication validity period (in time.Duration), pushes taking longer than this may fail.
  # LFS_HTTP_AUTH_EXPIRY = 20m
  ##  Maximum allowed LFS file size in bytes (Set to 0 for no limit).
  # LFS_MAX_FILE_SIZE = 0
  ##  Maximum number of locks returned per page
  # LFS_LOCKS_PAGING_NUM = 50
  ##  Allow graceful restarts using SIGHUP to fork
  # ALLOW_GRACEFUL_RESTARTS = true
  ##  After a restart the parent will finish ongoing requests before
  ##  shutting down. Force shutdown if this process takes longer than this delay.
  ##  set to a negative value to disable
  # GRACEFUL_HAMMER_TIME = 60s
  ##  Allows the setting of a startup timeout and waithint for Windows as SVC service
  ##  0 disables this.
  # STARTUP_TIMEOUT = 0
  ##  Static resources, includes resources on custom/, public/ and all uploaded avatars web browser cache time. Note that this cache is disabled when RUN_MODE is "dev". Default is 6h
  # STATIC_CACHE_TIME = 6h
  database:
  ## Database Configuration
  ## mysql / postgresq / sqlite3
  # DB_TYPE = mysql
  # HOST = 127.0.0.1:3306
  # NAME = gitea
  # USER = root
  ## Use PASSWD = `your password` for quoting if you use special characters in the password.
  # PASSWD =
  ## MySQL: either "false" (default), "true", or "skip-verify"
  ## PostgreSQL: either "disable" (default), "require", or "verify-full"
  # SSL_MODE = false ; either "false" (default), "true", or "skip-verify"
  ## ---
  ## MySQL Configuration
  ## ---
  ## Use CHARSET = either "utf8" or "utf8mb4", default is "utf8mb4".
  ## NOTICE: for "utf8mb4" you must use MySQL InnoDB > 5.6. Gitea is unable to check this.
  # CHARSET = utf8mb4
  ## ---
  ## PostgreSQL Configuration
  ## ---
  # SCHEMA =
  ## ---
  ## SQLite Configuration
  ## ---
  ## defaults to data/gitea.db
  # PATH=
  ## Query timeout defaults to: 500
  # SQLITE_TIMEOUT =
  ## defaults to sqlite database default (often DELETE), can be used to enable WAL mode. https://www.sqlite.org/pragma.html#pragma_journal_mode
  # SQLITE_JOURNAL_MODE =
  # ITERATE_BUFFER_SIZE = 50
  ## Show the database generated SQL
  # LOG_SQL = false ; if unset defaults to true
  ## Maximum number of DB Connect retries
  # DB_RETRIES = 10
  ## Backoff time per DB retry (time.Duration)
  # DB_RETRY_BACKOFF = 3s
  ## Max idle database connections on connection pool, default is 2
  # MAX_IDLE_CONNS = 2
  ## Database connection max life time, default is 0 or 3s mysql (See #6804 & #7071 for reasoning)
  # CONN_MAX_LIFETIME = 3s
  ## Database maximum number of open connections, default is 0 meaning no maximum
  # MAX_OPEN_CONNS = 0
  lfs:
