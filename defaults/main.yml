---
gitea_version: latest

## ----------------
## Giteaのアプリケーション名
## ----------------
gitea_app_name: "Gitea (Git with a cup of tea)"
## ----------------
## Giteaの動作モード
## 設定値：dev OR prod OR test
## ----------------
gitea_mode: prod

gitea_port: 3001

## ----------------
## Giteaの「INTERNAL_TOKEN」の設定値
## ※未指定の場合はトークンが自動生成されます
## ----------------
gitea_internal_token:
## ----------------
## Giteaの「LFS_JWT_SECRET」の設定
## ※未指定の場合はトークンが自動生成されます
## ----------------
gitea_lfs_jwt_secret:
## ----------------
## Giteaの「SECRET_KEY」の設定
## ※未指定の場合はトークンが自動生成されます
## ----------------
gitea_secret_key:

## ----------------
## Giteaの設定
##
## その他の設定については以下を参照
## https://docs.gitea.io/en-us/config-cheat-sheet/
## サンプルについては以下を参照
## https://github.com/go-gitea/gitea/blob/main/custom/conf/app.example.ini
## ----------------
gitea_cfg:
  database:
    # mysql / postgres / sqlite3 / mssql
    DB_TYPE: mysql
    HOST: 127.0.0.1:3306
    NAME: gitea
    USER: gitea
    PASSWD: gitea_password
    # MySQL Database only
    CHARSET: utf8mb4
    # SQLite only
    SSL_MODE: false
    PATH: "{{ gitea_work_dir }}/data/gitea.db"
    # PostgreSQL Database only
    SCHEMA: public
    LOG_SQL: false
  server:
    HTTP_PORT: "{{ gitea_port }}"
    LOCAL_ROOT_URL: http://localhost:{{ gitea_port }}/
    SSH_DOMAIN: gitea.example.com
    DOMAIN: gitea.example.com
    ROOT_URL: http://gitea.example.com/
    DISABLE_SSH: false
    SSH_PORT: 22
    LFS_START_SERVER: true
    OFFLINE_MODE: false
  mailer:
    ENABLED: false
  repository:
    ROOT: "{{ gitea_work_dir }}/data/gitea-repositories"
  service:
    REGISTER_EMAIL_CONFIRM: false
    ENABLE_NOTIFY_MAIL: false
    DISABLE_REGISTRATION: false
    ALLOW_ONLY_EXTERNAL_REGISTRATION: false
    ENABLE_CAPTCHA: false
    REQUIRE_SIGNIN_VIEW: false
    DEFAULT_KEEP_EMAIL_PRIVATE: false
    DEFAULT_ALLOW_CREATE_ORGANIZATION: true
    DEFAULT_ENABLE_TIMETRACKING: true
    NO_REPLY_ADDRESS: gitea.example.com
  picture:
    DISABLE_GRAVATAR: false
    ENABLE_FEDERATED_AVATAR: true
  openid:
    ENABLE_OPENID_SIGNIN: true
    ENABLE_OPENID_SIGNUP: true
  session:
    PROVIDER: file
  log:
    MODE: console
    LEVEL: info
    ROOT_PATH: "{{ gitea_work_dir }}/log"
    ROUTER: console
  lfs:
    PATH: "{{ gitea_work_dir }}/data/lfs"
  repository.pull-request:
    DEFAULT_MERGE_STYLE: merge
  repository.signing:
    DEFAULT_TRUST_MODEL: committer
  security:
    INSTALL_LOCK: false
    PASSWORD_HASH_ALGO: pbkdf2

## ----------------
## Giteaのサービス設定
##
## ※設定のサンプルについては以下を参照
## https://github.com/go-gitea/gitea/blob/main/contrib/systemd/gitea.service
## ----------------
gitea_service_extra_cfg: |
  # Uncomment the next line if you have repos with lots of files and get a HTTP 500 error because of that
  # LimitNOFILE=524288:524288
  # If using Unix socket: tells systemd to create the /run/gitea folder, which will contain the gitea.sock file
  # (manually creating /run/gitea doesn't work, because it would not persist across reboots)
  # RuntimeDirectory=gitea
  # If you install Git to directory prefix other than default PATH (which happens
  # for example if you install other versions of Git side-to-side with
  # distribution version), uncomment below line and add that prefix to PATH
  # Don't forget to place git-lfs binary on the PATH below if you want to enable
  # Git LFS support
  #Environment=PATH=/path/to/git/bin:/bin:/sbin:/usr/bin:/usr/sbin
  # If you want to bind Gitea to a port below 1024, uncomment
  # the two values below, or use socket activation to pass Gitea its ports as above
  ###
  #CapabilityBoundingSet=CAP_NET_BIND_SERVICE
  #AmbientCapabilities=CAP_NET_BIND_SERVICE
  ###
  # In some cases, when using CapabilityBoundingSet and AmbientCapabilities option, you may want to
  # set the following value to false to allow capabilities to be applied on gitea process. The following
  # value if set to true sandboxes gitea service and prevent any processes from running with privileges
  # in the host user namespace.
  ###
  #PrivateUsers=false
  ###
